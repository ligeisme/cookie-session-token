# cookie-session-token
cookie、session、token简介

## 为了解决HTTP无状态，无法保存用户状态的问题产生了cookie和session
1.服务端收到用户账号密码后，完成登录生成一个全局变量的session会话，作为所有鉴权脚本的通行证
2.返回登录成功的信息给客户端，响应首部包含set-cookie字段，客户端接收到后存储cookie，cookie里通常userid以及最重要的session_id用于关联会话
3.下一次同域名请求会自动带上cookie，后端获取cookie里的session_id找到对应的会话，拿到会话里的用户私密信息去数据库查找数据
4.但是随着用户量大増，负载均衡系统的普及，不同机器session共享成了问题，有些采用中央节点统一存储session，其他机器去中央机器取的方案，可惜这个方案无法保证安全性，一旦中央节点挂了，服务就全崩了
5.于是产生了token存储状态信息的方案

## token原理
1.服务端收到登录请求，使用公钥对用户账密加密生成令牌token，然后将token放到cookie里让客户端存起来
2.由于token是加密的，不会泄露用户信息
3.下次请求客户端会带上token，服务端收到token使用私钥解密，拿到用户信息去数据库查询并返回结果
4.这样一来服务端只需要存一对秘钥，避免了维护会话的一系列问题

## jwt
token的格式有很多种，后面产生了jwt规范，就是以json字符串形式存储信息的token
